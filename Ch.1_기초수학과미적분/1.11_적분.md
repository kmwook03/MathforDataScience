## 적분 (integral)
정의된 함수의 그래프와 그 구간으로 둘러싸인 도형의 넓이를 구하는 함수.

> **리만 합 (Riemann sum)**
실수의 부분집합 $D$에서 정의되는 함수 $f: D \rightarrow \mathbb R$를 생각하자.
그리고 $I = [a, b]$인 닫힌 구간이 $D$ 안에 들어있다고 하자.
점들의 유한 집합 ${x_0, x_1, x_2, ..., x_n}$은 $a=x_0 < x_1 < x_2 < ... < x_n = b$이고 다음의 분할을 생성한다.
$$
P = \{[x_0, x_1), [x_1, x_2), ..., [x_{n-1}, x_n]\}
$$
만약 $P$가 $I$의 $n$개의 원소를 가지는 분할이라면, $I$ 상에서 분할 $P$를 가지는 $f$의 리만 합은 다음과 같이 정의된다.
$$
S = \sum f(y_i)(x_i - x_{i-1})
$$
> 
> 이 때 $x_{i-1} \leq y_i \leq x_i$이며 구간 내에서 $y_i$의 선택은 임의적이다.
모든 $i$에 대하여
> - $y_i = x_i$라면 $S$는 **오른쪽 리만 합**
> - $y_i = x_{i-1}$라면 $S$는 **왼쪽 리만 합**
> - $y_i = (x_i + x_{i-1})/2$라면 **가운데 리만 합**
> - **왼쪽 리만 합**과 **오른쪽 리만 합**의 **평균**을 취한 것은 **사다리꼴 리만 합**
> 
> $y_i$를 직사각형의 꼭짓점으로 생각하면 이해하기 쉽다.
> - **왼쪽 꼭짓점**과 곡선이 만남 -> **왼쪽** 리만 합
> - **오른쪽 꼭짓점**과 곡선이 만남 -> **오른쪽** 리만 합
> - **두 꼭짓점 중앙**과 곡선이 만남 -> **가운데** 리만 합

**극한을 이용한 적분**
- 핵심 아이디어
곡선 아래에 직사각형을 채워 넣고 정확한 면적에 가까워질 때까지 직사각형을 무한히 작게 만드는 것

```python
from sympy import *

x, i, n = symbols('x i n')

# 함수 정의 및 구간 설정
f = x**2 + 1
lower, upper = 0, 1

# 직사각형 너비와 높이 계산
delta_x = (upper - lower) / n # 직사각형 너비
x_i = (lower + delta_x * i) # 직사각형의 x 좌표
fx_i = f.subs(x, x_i) # 직사각형의 높이

n_rectangles = Sum(delta_x * fx_i, (i, 1, n)).doit() # 직사각형 넓이의 합

area = limit(n_rectangles, n, oo) # 직사각형 개수 n을 무한대로
print(area) # 4/3
```

